(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9fb05d84"],{"336f":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticStyle:{"overflow-y":"scroll",height:"100vh"},attrs:{id:"scrollWrapper"},on:{scroll:t.handlerScroll}},[e("div",{staticClass:"service-item",style:{height:t.scrollHeight+"px"}},[e("van-sticky",{attrs:{"offset-top":0}},[e("van-dropdown-menu",[e("van-dropdown-item",{attrs:{options:t.option1},model:{value:t.catid,callback:function(i){t.catid=i},expression:"catid"}}),e("van-dropdown-item",{attrs:{options:t.option2},model:{value:t.gongxu_type,callback:function(i){t.gongxu_type=i},expression:"gongxu_type"}})],1)],1),e("div",{staticClass:"index-content"},[t.list.length?e("div",{staticClass:"content",staticStyle:{padding:"0","margin-top":"20px"}},t._l(t.list,(function(i,a){return e("div",{key:a,staticClass:"item-card",class:1===+i.gongxu_type?"service":"demand",on:{click:function(e){return t.goDetail(i)}}},[e("h3",{staticStyle:{display:"flex","justify-content":"space-between"}},[e("span",[t._v("【"+t._s(i.catname)+"】"+t._s(i.title))])]),e("div",{staticClass:"fuwubiaoqian"},t._l(i.feature,(function(i,a){return e("div",{key:a},[t._v(t._s(i))])})),0),e("div",{staticClass:"tags"},t._l(i.advantage_tag,(function(i,a){return e("span",{key:a},[t._v(t._s(i))])})),0),e("div",{staticClass:"n-card-img"},[e("div",{staticClass:"img--wraper"},t._l(i.image,(function(t,i){return e("img",{key:i,attrs:{src:t.url,alt:t.alt,srcset:""}})})),0),e("div",{staticClass:"danbao--wraper"},[e("span",[t._v(t._s(i.guarantee[0].title))]),e("van-icon",{staticClass:"n-van-icon",attrs:{name:"arrow"}})],1)]),e("div",{staticClass:"fabu-time"},[t._v("发布时间："+t._s(t.formatDate("YYYY-mm-dd HH:MM:ss",new Date(1e3*+i.inputtime))))]),1===i.gongxu_type?e("div",{staticClass:"gongqun-lianxi"},[e("div",[e("a",{attrs:{href:"javascript:;"},on:{click:function(e){return e.stopPropagation(),t.lookGroup(i)}}},[e("span",[t._v("进入公群")])])]),e("div",{on:{click:function(e){return e.stopPropagation(),t.lookTelegram(i)}}},[e("span",[t._v("立即联系")])])]):e("div",{staticClass:"gongqun-lianxi"},[e("div",{on:{click:function(e){return e.stopPropagation(),t.lookTelegram(i)}}},[e("span",[t._v("立即联系")])])])])})),0):t._e(),t.list.length?t._e():e("div",{staticClass:"empty"},[e("p",[t._v("暂无数据，看看其它的吧")])])])],1)])},s=[],n={data(){return{keyword:this.$route.query.keyword,catid:+(this.$route.query.catid||0),option1:[{text:"全部分类",value:0}],gongxu_type:0,option2:[{text:"供/需",value:0},{text:"服务",value:1},{text:"需求",value:2}],loadAll:!1,list:[],pageSize:10,page:1,scrollHeight:500}},watch:{catid(){this.getList(!0)},gongxu_type(){this.getList(!0)}},created(){this.getList(!0),this.getCategor(),this.countScroll()},methods:{countScroll(){this.$nextTick(()=>{this.scrollHeight=document.body.clientHeight})},handlerScroll(t){if(this.loadAll)return;let i=t.currentTarget;(this.list||[]).length&&i.scrollTop+i.clientHeight>=i.scrollHeight&&(this.loadAll=(this.list||[]).length<this.pageSize,this.getList(!1))},getCategor(){this.$axios.get("/api.php?op=get_categor").then(t=>{200===t.code&&t.data.map(t=>{this.option1.push({text:t.catname,value:+t.catid})})})},getList(t){!0===t&&(this.list=[],this.page=1),this.$axios.get("/api.php?op=search_api&action=keyword&keyword&catid="+this.catid+"&gongxu_type="+this.gongxu_type+"&pageNum="+this.page+"&pageSize=10").then(i=>{if(200===i.code)if(!0!==t){if(this.list=this.list.concat(i.data.lists),!i.data.lists.length)return void(this.loadAll=!0);this.page++}else this.list=i.data.lists})},goDetail(t){this.$router.push({name:"service",query:{id:t.id,type:t.gongxu_type}})}}},o=n,l=(e("8015"),e("2877")),c=Object(l["a"])(o,a,s,!1,null,"423102ab",null);i["default"]=c.exports},8015:function(t,i,e){"use strict";e("e74c")},e74c:function(t,i,e){}}]);