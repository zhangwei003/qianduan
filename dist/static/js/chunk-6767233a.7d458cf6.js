(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6767233a"],{"076e":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("van-tabbar",{staticClass:"footer",attrs:{fixed:!0,"safe-area-inset-bottom":!0},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},e._l(e.list,(function(t,i){return a("van-tabbar-item",{key:i,on:{click:function(t){return e.onChange(i)}},scopedSlots:e._u([{key:"icon",fn:function(){return[a("img",{attrs:{src:e.propActive===i?t.active:t.inactive}})]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(t.name))])])})),1),a("van-popup",{attrs:{round:!0},model:{value:e.showService,callback:function(t){e.showService=t},expression:"showService"}},[a("div",{staticClass:"chooseCatelogaBox",staticStyle:{display:"block"}},[a("div",{staticClass:"qxr",on:{click:function(t){e.showService=!1}}},[e._v("取消")]),a("h5",{staticClass:"title"},[a("span",{class:1===e.serviceType?"tabactive":"",on:{click:function(t){e.serviceType=1}}},[e._v("发服务")]),a("span",{class:2===e.serviceType?"tabactive":"",on:{click:function(t){e.serviceType=2}}},[e._v("发需求")])]),a("div",{staticClass:"form-list-index"},[a("div",{staticClass:"mui-input-row change"},e._l(e.get_categor,(function(t,i){return a("span",{key:i},[a("a",{on:{click:function(a){return e.goToPublish(t)}}},[a("img",{attrs:{src:t.image}}),e._v(" "+e._s(t.catname)+" ")])])})),0)])])])],1)},s=[],n={props:{propActive:{type:Number,default:0}},data(){return{active:0,showService:!1,serviceType:2,list:[{name:"首页",active:a("1349"),inactive:a("c69c")},{name:"搜索",active:a("a511"),inactive:a("608b")},{name:"发布",active:a("c901"),inactive:a("81ea")},{name:"数据",active:a("219b"),inactive:a("e4bb")},{name:"我的",active:a("904c"),inactive:a("f0ee")}],get_categor:[]}},computed:{},created(){this.active=this.propActive,this.getCategor()},methods:{getCategor(){this.$axios.post("/api.php?op=get_categor").then(e=>{200===e.code&&(this.get_categor=e.data)})},onChange(e){switch(e){case 0:this.$router.push({name:"index"});break;case 1:this.$router.push({name:"search"});break;case 2:this.showService=!0;break;case 3:this.$router.push({name:"mydata"});break;case 4:this.$router.push({name:"myinfo"});break;default:break}},goToPublish(e){this.showService=!1,this.$router.push({name:"push_service",query:{catid:e.catid,catname:e.catname,publishtype:this.serviceType}})}},beforeRouteLeave(e,t,a){console.log(222222),a()},beforeRouteEnter(e,t,a){console.log(111111111),a()}},c=n,r=(a("d677"),a("2877")),o=Object(r["a"])(c,i,s,!1,null,"fe48996a",null);t["a"]=o.exports},4968:function(e,t,a){},"4e22":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("van-row",[a("van-col",{attrs:{span:"2"}},[a("div",{staticClass:"left-w",attrs:{onclick:"window.history.back()"}},[a("span",{staticClass:"mui-icon mui-icon-arrowleft",attrs:{"data-v-8e558baa":""}})])]),a("van-col",{attrs:{span:"18"}},[a("van-search",{attrs:{shape:"round",clearable:!1,placeholder:"请输入搜索关键词"},on:{search:e.search},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),a("van-col",{attrs:{span:4}},[a("div",{staticClass:"search-btn",on:{click:function(t){return e.searchKey(e.value)}}},[e._v("搜索")])])],1),e._m(0),a("div",{staticClass:"lishi-li"},e._l(e.keyword_list,(function(t,i){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.keyword,expression:"v.keyword"}],key:i,staticStyle:{margin:"5px",padding:"0 4px"},on:{click:function(a){return e.searchKey(t.keyword)}}},[e._v(e._s(t.keyword))])})),0),e._m(1),a("div",{staticClass:"bangdan-list"},[a("div",{staticClass:"bangdan"},[a("h3",[e._v("推荐榜单")]),e._l(e.tuijian.service,(function(t,i){return a("div",{key:t,on:{click:function(a){return e.searchKey(t)}}},[a("span",[e._v(e._s(i+1))]),a("b",[e._v(e._s(t))])])}))],2),a("div",{staticClass:"bangdan"},[a("h3",[e._v("需求热搜榜")]),e._l(e.tuijian.demand,(function(t,i){return a("div",{key:t,on:{click:function(a){return e.searchKey(t)}}},[a("span",[e._v(e._s(i+1))]),a("b",[e._v(e._s(t))])])}))],2),a("div",{staticClass:"bangdan"},[a("h3",[e._v("服务类目热搜榜")]),e._l(e.tuijian.service_leimu,(function(t,i){return a("div",{key:t,on:{click:function(a){return e.searchKey(t)}}},[a("span",[e._v(e._s(i+1))]),a("b",[e._v(e._s(t))])])}))],2),a("div",{staticClass:"bangdan"},[a("h3",[e._v("需求类目热搜榜")]),e._l(e.tuijian.demand_leimu,(function(t,i){return a("div",{key:t,on:{click:function(a){return e.searchKey(t)}}},[a("span",[e._v(e._s(i+1))]),a("b",[e._v(e._s(t))])])}))],2)]),e.showFooter?a("Footer",{attrs:{propActive:1}}):e._e()],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lishi"},[a("h3",[e._v("搜索发现")]),a("span")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"lishi"},[a("h3",[e._v("推荐榜单")])])}],n=a("076e"),c={components:{Footer:n["a"]},data(){return{showFooter:!0,keyword_list:[],value:"",likeRandom:[],likes:[],tuijian:[]}},created(){this.$axios.post("/api.php?op=keyword_list").then(e=>{200===e.code&&(this.keyword_list=e.data)}),this.getTuijian()},methods:{activated(){this.showFooter=!1,this.$nextTick(()=>{this.showFooter=!0})},genghuan(){var e=this.likes;function t(e){return e.sort(()=>Math.random()>.5?-1:1).slice(0,3)}this.likeRandom=t(e)},goService(e){this.$router.push({name:"service",query:{id:e.id}})},searchKey(e){this.$router.push({name:"search_list",query:{keyword:e}})},search(e){console.log(e),this.$router.push({name:"search_list",query:{keyword:this.value}})},getLike(){this.$axios.post("/api.php?op=search_api&action=like").then(e=>{200===e.code&&(this.likes=e.data,this.genghuan())})},getTuijian(){this.$axios.post("/api.php?op=search_api&action=recommend").then(e=>{200===e.code&&(this.tuijian=e.data)})}}},r=c,o=(a("ef77"),a("8f10"),a("2877")),u=Object(o["a"])(r,i,s,!1,null,"995b9c9a",null);t["default"]=u.exports},"64d6":function(e,t,a){},"8f10":function(e,t,a){"use strict";a("4968")},"94ff":function(e,t,a){},d677:function(e,t,a){"use strict";a("64d6")},ef77:function(e,t,a){"use strict";a("94ff")}}]);